<pre><font color="#007f69">breed</font><font color="#000000"> [rabbits rabbit]<br /></font><font color="#660096">breed</font><font color="#000000"> [wolves wolf]<br /></font><font color="#660096">breed</font><font color="#000000"> [weathers weather]<br /><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;; Variable declaration ;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#007f69">globals</font><font color="#000000"> [<br />  </font><font color="#5a5a5a">;; Wolf's Variables</font><font color="#000000"><br />  wolfColour<br />  wolfSize<br />  wolfMaxEnergy<br />  wolfEnergyEatThreshold<br />  wolfEnergyReproduceThreshold<br />  wolfEnergyReproduceCost<br />  wolfReproduceProbability<br />  wolfEnergyBorned<br />  wolfMinTimeReproduce<br />  wolfMovement<br />  wolfHuntPosibility<br />  wolfEnergyMoveCost<br /><br />  </font><font color="#5a5a5a">;; rabbit's variables</font><font color="#000000"><br />  rabbitColour<br />  rabbitSize<br />  rabbitMaxEnergy<br />  rabbitEnergyEatThreshold<br />  rabbitEnergyReproduceThreshold<br />  rabbitEnergyReproduceCost<br />  rabbitReproduceProbability<br />  rabbitEnergyBorned<br />  rabbitMinTimeReproduce<br />  rabbitMovement<br />  rabbitEnergyMoveCost<br /><br />  </font><font color="#5a5a5a">;; Patche's variables</font><font color="#000000"><br />  grassBigColour<br />  grassBigMaxEnergy<br />  grassSmallColour<br />  grassSmallMaxEnergy<br />  grassDryColour<br />  grassDryMaxEnergy<br />  goundColour<br />  goundDryMaxEnergy<br /><br />  </font><font color="#5a5a5a">;; Weather's variables</font><font color="#000000"><br />  weatherPosX<br />  weatherPosY<br />  weatherSize<br />  weatherUpdateFrecuency<br />  sunny<br />  sunnyColour<br />  sunnyRegrowValue<br />  rainy<br />  rainyColour<br />  rainyRegrowValue<br />  warm<br />  warmColour<br />  warmRegrowValue<br />  cool<br />  coolColour<br />  coolRegrowValue<br />  numPosibleStates<br /><br />  </font><font color="#5a5a5a">;; Simulation's variables</font><font color="#000000"><br />  stepLimit<br />  maxRabbits<br />  maxwolves<br />  functionReproduce_A  </font><font color="#5a5a5a">;;f(x) = a^x * ReproduceProbability</font><font color="#000000"><br /><br />]<br /></font><font color="#5a5a5a">;;;;;</font><font color="#000000"><br /><br /></font><font color="#007f69">turtles-own</font><font color="#000000"> [<br />  energy<br />  timeToLife<br />  randomValue<br />]<br /></font><font color="#007f69">rabbits-own</font><font color="#000000">[]<br /></font><font color="#007f69">wolves-own</font><font color="#000000">[]<br /></font><font color="#007f69">weathers-own</font><font color="#000000">[<br />  state<br />  regrowValue<br />]<br /></font><font color="#007f69">patches-own</font><font color="#000000">[<br />  actualEnergy<br />]<br /><br /><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;; Setup Code ;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> setup<br />  </font><font color="#0000aa">clear-all</font><font color="#000000"><br />  initGlobals<br />  setupPatches<br />  setuprabbits<br />  setupWolves<br />  setupWeather<br />  </font><font color="#0000aa">reset-ticks</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#5a5a5a">;; globals variable initialization ;;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> initGlobals<br /><br />  </font><font color="#5a5a5a">;; Wolf's variables</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> wolfColour </font><font color="#963700">2</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> wolfSize </font><font color="#963700">1.5</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> wolfMaxEnergy </font><font color="#963700">50</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> wolfEnergyEatThreshold (wolfMaxEnergy </font><font color="#660096">-</font><font color="#000000"> (wolfMaxEnergy </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000">))<br />  </font><font color="#0000aa">set</font><font color="#000000"> wolfEnergyReproduceThreshold </font><font color="#963700">30</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> wolfEnergyReproduceCost </font><font color="#963700">20</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> wolfReproduceProbability </font><font color="#963700">10</font><font color="#000000">  </font><font color="#5a5a5a">;;(0-100)</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> wolfEnergyBorned </font><font color="#963700">10</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> wolfMinTimeReproduce </font><font color="#963700">30</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> wolfMovement </font><font color="#963700">1</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> wolfHuntPosibility </font><font color="#963700">70</font><font color="#000000">  </font><font color="#5a5a5a">;;(0-100)</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> wolfEnergyMoveCost </font><font color="#963700">1</font><font color="#000000"><br /><br />  </font><font color="#5a5a5a">;; rabbit's variables</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> rabbitColour </font><font color="#963700">9</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> rabbitSize </font><font color="#963700">1</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> rabbitMaxEnergy </font><font color="#963700">20</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> rabbitEnergyEatThreshold (rabbitMaxEnergy </font><font color="#660096">-</font><font color="#000000"> (rabbitMaxEnergy </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000">))<br />  </font><font color="#0000aa">set</font><font color="#000000"> rabbitEnergyReproduceThreshold </font><font color="#963700">15</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> rabbitEnergyReproduceCost </font><font color="#963700">10</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> rabbitReproduceProbability </font><font color="#963700">15</font><font color="#000000">  </font><font color="#5a5a5a">;;(0-100)</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> rabbitEnergyBorned </font><font color="#963700">10</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> rabbitMinTimeReproduce </font><font color="#963700">5</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> rabbitMovement </font><font color="#963700">1</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> rabbitEnergyMoveCost </font><font color="#963700">1</font><font color="#000000"><br /><br />  </font><font color="#5a5a5a">;; Patche's variables</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> grassBigColour </font><font color="#963700">64</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> grassBigMaxEnergy </font><font color="#963700">10</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> grassSmallColour </font><font color="#963700">57</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> grassSmallMaxEnergy </font><font color="#963700">8</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> grassDryColour </font><font color="#963700">48</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> grassDryMaxEnergy </font><font color="#963700">2</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> goundColour </font><font color="#963700">37</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> goundDryMaxEnergy </font><font color="#963700">0</font><font color="#000000"><br /><br />  </font><font color="#5a5a5a">;; Weather's variables</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> weatherPosX </font><font color="#963700">15</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> weatherPosY </font><font color="#963700">15</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> weatherSize </font><font color="#963700">3</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> weatherUpdateFrecuency </font><font color="#963700">3</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> sunny </font><font color="#963700">0</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> sunnyColour </font><font color="#963700">46</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> sunnyRegrowValue </font><font color="#963700">1</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> rainy </font><font color="#963700">1</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> rainyColour </font><font color="#963700">96</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> rainyRegrowValue </font><font color="#963700">2</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> warm </font><font color="#963700">2</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> warmColour </font><font color="#963700">26</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> warmRegrowValue </font><font color="#963700">-1</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> cool </font><font color="#963700">3</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> coolColour </font><font color="#963700">76</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> coolRegrowValue </font><font color="#963700">0</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> numPosibleStates </font><font color="#963700">4</font><font color="#000000"><br /><br />  </font><font color="#5a5a5a">;; Simulation's variables</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> stepLimit </font><font color="#963700">-1</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> maxRabbits </font><font color="#963700">-1</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> maxwolves </font><font color="#963700">-1</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> functionReproduce_A </font><font color="#963700">-0.5</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">end</font><font color="#000000"><br /></font><font color="#5a5a5a">;;;;</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> setupPatches<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> [<br />    </font><font color="#0000aa">let</font><font color="#000000"> value </font><font color="#660096">random</font><font color="#000000"> (grassBigMaxEnergy)<br />    </font><font color="#0000aa">ifelse</font><font color="#000000">(value </font><font color="#660096">&lt;=</font><font color="#000000"> goundDryMaxEnergy)[<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> goundColour<br />      </font><font color="#0000aa">set</font><font color="#000000"> actualEnergy value<br />    ]<br />    [<br />      </font><font color="#0000aa">ifelse</font><font color="#000000">(value </font><font color="#660096">&lt;=</font><font color="#000000"> grassDryMaxEnergy)[<br />        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> grassDryColour<br />        </font><font color="#0000aa">set</font><font color="#000000"> actualEnergy value<br />      ]<br />      [<br />        </font><font color="#0000aa">ifelse</font><font color="#000000">(value </font><font color="#660096">&lt;=</font><font color="#000000"> grassSmallMaxEnergy)[<br />          </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> grassSmallColour<br />          </font><font color="#0000aa">set</font><font color="#000000"> actualEnergy value<br />        ]<br />        [<br />          </font><font color="#0000aa">if</font><font color="#000000">(value </font><font color="#660096">&lt;=</font><font color="#000000"> grassBigMaxEnergy)[<br />            </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> grassBigColour<br />            </font><font color="#0000aa">set</font><font color="#000000"> actualEnergy value<br />          ]<br />        ]<br />      ]<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> setupRabbits<br />  create-rabbits initialNumRabbits[<br />    </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">random-xcor</font><font color="#000000"> </font><font color="#660096">random-ycor</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> rabbitColour<br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> rabbitSize<br />    </font><font color="#0000aa">set</font><font color="#000000"> energy ((rabbitMaxEnergy </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">) </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> (rabbitMaxEnergy </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">))<br />    </font><font color="#0000aa">set</font><font color="#000000"> timeToLife </font><font color="#660096">random</font><font color="#000000"> (rabbitMinTimeReproduce </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">)<br />    </font><font color="#0000aa">ifelse</font><font color="#000000"> show-energy?<br />    [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> energy </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label-color</font><font color="#000000"> </font><font color="#963700">13</font><font color="#000000">]<br />    [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> setupWolves<br />  create-wolves initialNumWolves[<br />    </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">random-xcor</font><font color="#000000"> </font><font color="#660096">random-ycor</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> wolfColour<br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> wolfSize<br />    </font><font color="#0000aa">set</font><font color="#000000"> energy ((wolfMaxEnergy </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">) </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> (wolfMaxEnergy </font><font color="#660096">/</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">))<br />    </font><font color="#0000aa">set</font><font color="#000000"> timeToLife </font><font color="#660096">random</font><font color="#000000"> (wolfMinTimeReproduce </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">)<br />    </font><font color="#0000aa">ifelse</font><font color="#000000"> show-energy?<br />    [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> energy </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label-color</font><font color="#000000"> </font><font color="#963700">13</font><font color="#000000">]<br />    [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> setupWeather<br />  create-weathers </font><font color="#963700">1</font><font color="#000000">[<br />    </font><font color="#0000aa">setxy</font><font color="#000000"> weatherPosX weatherPosY<br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> weatherSize<br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;circle&quot;</font><font color="#000000"><br />  ]<br />  updateWeather<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;; Go and Step Code ;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> go<br />  </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">&gt;=</font><font color="#000000"> stepLimit </font><font color="#660096">and</font><font color="#000000"> stepLimit </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">-1</font><font color="#000000">)  [<br />    </font><font color="#0000aa">stop</font><font color="#000000"><br />  ]<br />  step<br />  </font><font color="#0000aa">tick</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> step<br />  </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">&gt;=</font><font color="#000000"> stepLimit </font><font color="#660096">and</font><font color="#000000"> stepLimit </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">-1</font><font color="#000000">) [<br />    </font><font color="#0000aa">stop</font><font color="#000000"><br />  ]<br />  updateWeather<br />  moveTurtles<br />  rabbitEatGrass<br />  wolfEatrabbit<br />  reproduce<br />  regrow-grass<br />  check-death<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;; Action's functions ;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#5a5a5a">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</font><font color="#000000"><br /></font><font color="#007f69">to</font><font color="#000000"> moveTurtles<br />  </font><font color="#0000aa">ask</font><font color="#000000"> rabbits [<br />    </font><font color="#0000aa">right</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"><br />    </font><font color="#0000aa">forward</font><font color="#000000"> rabbitMovement<br />    </font><font color="#0000aa">set</font><font color="#000000"> energy (energy </font><font color="#660096">-</font><font color="#000000"> rabbitEnergyMoveCost)<br />    </font><font color="#0000aa">set</font><font color="#000000"> timeToLife timeToLife </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />    </font><font color="#0000aa">ifelse</font><font color="#000000"> show-energy?<br />    [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> energy </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label-color</font><font color="#000000"> </font><font color="#963700">13</font><font color="#000000">]<br />    [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> ]<br />  ]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> wolves [<br />    </font><font color="#0000aa">right</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"><br />    </font><font color="#0000aa">forward</font><font color="#000000"> wolfMovement<br />    </font><font color="#0000aa">set</font><font color="#000000"> energy (energy </font><font color="#660096">-</font><font color="#000000"> wolfEnergyMoveCost)<br />    </font><font color="#0000aa">set</font><font color="#000000"> timeToLife timeToLife </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />    </font><font color="#0000aa">ifelse</font><font color="#000000"> show-energy?<br />    [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> energy </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label-color</font><font color="#000000"> </font><font color="#963700">13</font><font color="#000000">]<br />    [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> ]<br />  ]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> weathers [<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> rabbitEatGrass<br />  </font><font color="#0000aa">ask</font><font color="#000000"> rabbits [<br />    </font><font color="#0000aa">let</font><font color="#000000"> grass </font><font color="#660096">patch-here</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> ([actualEnergy] </font><font color="#660096">of</font><font color="#000000"> grass </font><font color="#660096">&gt;=</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (energy </font><font color="#660096">&lt;</font><font color="#000000"> rabbitEnergyEatThreshold)[<br />      </font><font color="#0000aa">set</font><font color="#000000"> energy (energy </font><font color="#660096">+</font><font color="#000000"> [actualEnergy] </font><font color="#660096">of</font><font color="#000000"> grass)<br />      </font><font color="#0000aa">if</font><font color="#000000">(energy </font><font color="#660096">&gt;</font><font color="#000000"> rabbitMaxEnergy)[<br />        </font><font color="#0000aa">set</font><font color="#000000"> energy rabbitMaxEnergy<br />      ]<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> goundColour<br />      </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patch-here</font><font color="#000000">[<br />        </font><font color="#0000aa">set</font><font color="#000000"> actualEnergy </font><font color="#963700">0</font><font color="#000000"><br />      ]<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> wolfEatrabbit<br />  </font><font color="#0000aa">ask</font><font color="#000000"> wolves[<br />    </font><font color="#0000aa">let</font><font color="#000000"> presa </font><font color="#660096">one-of</font><font color="#000000"> rabbits-here<br /><br />    </font><font color="#0000aa">if</font><font color="#000000"> (presa </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">nobody</font><font color="#000000">)[<br />      </font><font color="#0000aa">set</font><font color="#000000"> randomValue </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">101</font><font color="#000000"><br /><br />      </font><font color="#0000aa">if</font><font color="#000000"> (energy </font><font color="#660096">&lt;</font><font color="#000000"> wolfEnergyEatThreshold </font><font color="#660096">and</font><font color="#000000"> randomValue </font><font color="#660096">&lt;</font><font color="#000000"> wolfHuntPosibility )[<br />        </font><font color="#0000aa">set</font><font color="#000000"> energy (energy </font><font color="#660096">+</font><font color="#000000"> [energy] </font><font color="#660096">of</font><font color="#000000"> presa)<br />        </font><font color="#0000aa">if</font><font color="#000000">(energy </font><font color="#660096">&gt;</font><font color="#000000"> wolfMaxEnergy)[</font><font color="#0000aa">set</font><font color="#000000"> energy wolfMaxEnergy]<br />        </font><font color="#0000aa">ask</font><font color="#000000"> presa[</font><font color="#0000aa">die</font><font color="#000000">]<br />      ]<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> reproduce<br />  </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">count</font><font color="#000000"> rabbits </font><font color="#660096">&lt;</font><font color="#000000"> maxRabbits </font><font color="#660096">or</font><font color="#000000"> maxRabbits </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">-1</font><font color="#000000">)[<br />    </font><font color="#0000aa">ask</font><font color="#000000"> rabbits [<br />      </font><font color="#0000aa">set</font><font color="#000000"> randomValue </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">101</font><font color="#000000"><br />      </font><font color="#0000aa">if</font><font color="#000000"> (energy </font><font color="#660096">&gt;</font><font color="#000000"> rabbitEnergyReproduceThreshold<br />       </font><font color="#5a5a5a">;; and randomValue &lt;= ( - rabbitReproduceProbability * (functionReproduce_A ^ ( ( round ( (count rabbits) / 100) ) + 1) ) )</font><font color="#000000"><br />        </font><font color="#660096">and</font><font color="#000000"> timeToLife </font><font color="#660096">&gt;=</font><font color="#000000"> rabbitMinTimeReproduce)<br />      [<br />        </font><font color="#0000aa">set</font><font color="#000000"> energy (energy </font><font color="#660096">-</font><font color="#000000"> rabbitEnergyReproduceCost)<br />        </font><font color="#0000aa">hatch</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> [<br />          </font><font color="#0000aa">set</font><font color="#000000"> energy rabbitEnergyBorned<br />          </font><font color="#0000aa">set</font><font color="#000000"> timeToLife </font><font color="#963700">0</font><font color="#000000"><br />        ]<br />      ]<br />    ]<br />  ]<br /><br />  </font><font color="#0000aa">if</font><font color="#000000"> (</font><font color="#660096">count</font><font color="#000000"> wolves </font><font color="#660096">&lt;</font><font color="#000000"> maxWolves </font><font color="#660096">or</font><font color="#000000"> maxWolves </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">-1</font><font color="#000000">)[<br />    </font><font color="#0000aa">ask</font><font color="#000000"> wolves [<br />      </font><font color="#0000aa">set</font><font color="#000000"> randomValue </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">101</font><font color="#000000"><br />      </font><font color="#0000aa">if</font><font color="#000000"> (energy </font><font color="#660096">&gt;</font><font color="#000000"> wolfEnergyReproduceThreshold<br />       </font><font color="#5a5a5a">;; and randomValue &lt;= ( - wolfReproduceProbability * (functionReproduce_A ^ ( ( round ( (count wolves) / 100) ) + 1) ) )</font><font color="#000000"><br />        </font><font color="#660096">and</font><font color="#000000"> timeToLife </font><font color="#660096">&gt;=</font><font color="#000000"> wolfMinTimeReproduce)<br />      [<br />        </font><font color="#0000aa">set</font><font color="#000000"> energy (energy </font><font color="#660096">-</font><font color="#000000"> wolfEnergyReproduceCost)<br />        </font><font color="#0000aa">hatch</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> [<br />          </font><font color="#0000aa">set</font><font color="#000000"> energy wolfEnergyBorned<br />          </font><font color="#0000aa">set</font><font color="#000000"> timeToLife </font><font color="#963700">0</font><font color="#000000"><br />        ]<br />      ]<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> updateWeather<br />  </font><font color="#0000aa">ask</font><font color="#000000"> weathers[<br />    </font><font color="#0000aa">set</font><font color="#000000"> state </font><font color="#660096">random</font><font color="#000000">(numPosibleStates)<br />    </font><font color="#0000aa">set</font><font color="#000000"> regrowValue state<br />    </font><font color="#0000aa">setxy</font><font color="#000000"> weatherPosX weatherPosY<br />    </font><font color="#0000aa">ifelse</font><font color="#000000">(state </font><font color="#660096">=</font><font color="#000000"> sunny)<br />    [<br />      </font><font color="#0000aa">set</font><font color="#000000"> regrowValue sunnyRegrowValue<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> sunnycolour<br />      </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;Sunny&quot;</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label-color</font><font color="#000000"> </font><font color="#963700">black</font><font color="#000000"><br />    ]<br />    [<br />      </font><font color="#0000aa">ifelse</font><font color="#000000">(state </font><font color="#660096">=</font><font color="#000000"> rainy)<br />      [<br />        </font><font color="#0000aa">set</font><font color="#000000"> regrowValue rainyRegrowValue<br />        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> rainycolour<br />        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;Rainy&quot;</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label-color</font><font color="#000000"> </font><font color="#963700">black</font><font color="#000000"><br />      ]<br />      [<br />        </font><font color="#0000aa">ifelse</font><font color="#000000">(state </font><font color="#660096">=</font><font color="#000000"> warm)<br />        [<br />          </font><font color="#0000aa">set</font><font color="#000000"> regrowValue warmRegrowValue<br />          </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> warmcolour<br />          </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;Warm&quot;</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label-color</font><font color="#000000"> </font><font color="#963700">black</font><font color="#000000"><br />        ]<br />        [<br />          </font><font color="#0000aa">set</font><font color="#000000"> regrowValue coolRegrowValue<br />          </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> coolcolour<br />          </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> </font><font color="#963700">&quot;Cool&quot;</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label-color</font><font color="#000000"> </font><font color="#963700">black</font><font color="#000000"><br />        ]<br />      ]<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> check-death<br />  </font><font color="#0000aa">ask</font><font color="#000000"> rabbits [<br />    </font><font color="#0000aa">if</font><font color="#000000"> (energy </font><font color="#660096">&lt;=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) [ </font><font color="#0000aa">die</font><font color="#000000"> ]<br />  ]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> wolves [<br />    </font><font color="#0000aa">if</font><font color="#000000"> (energy </font><font color="#660096">&lt;=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) [ </font><font color="#0000aa">die</font><font color="#000000"> ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> regrow-grass<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> [<br />  </font><font color="#0000aa">let</font><font color="#000000"> actualWeather </font><font color="#660096">one-of</font><font color="#000000"> weathers<br />    </font><font color="#0000aa">set</font><font color="#000000"> actualEnergy (actualEnergy </font><font color="#660096">+</font><font color="#000000"> [regrowValue] </font><font color="#660096">of</font><font color="#000000"> actualWeather)<br />    </font><font color="#0000aa">ifelse</font><font color="#000000">(actualEnergy </font><font color="#660096">&lt;=</font><font color="#000000"> goundDryMaxEnergy)<br />    [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> goundColour]<br />    [<br />      </font><font color="#0000aa">ifelse</font><font color="#000000">(actualEnergy </font><font color="#660096">&lt;=</font><font color="#000000"> grassDryMaxEnergy)<br />      [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> grassDryColour]<br />      [<br />        </font><font color="#0000aa">ifelse</font><font color="#000000">(actualEnergy </font><font color="#660096">&lt;=</font><font color="#000000"> grassSmallMaxEnergy)<br />        [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> grassSmallColour]<br />        [<br />          </font><font color="#0000aa">if</font><font color="#000000">(actualEnergy </font><font color="#660096">&lt;=</font><font color="#000000"> grassBigMaxEnergy)<br />          [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> grassBigColour]<br />        ]<br />      ]<br />    ]<br /><br />    </font><font color="#0000aa">ifelse</font><font color="#000000"> (actualEnergy </font><font color="#660096">&gt;</font><font color="#000000"> grassBigMaxEnergy)<br />    [</font><font color="#0000aa">set</font><font color="#000000"> actualEnergy grassBigMaxEnergy]<br />    [<br />      </font><font color="#0000aa">if</font><font color="#000000"> (actualEnergy </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">)<br />      [</font><font color="#0000aa">set</font><font color="#000000"> actualEnergy </font><font color="#963700">0</font><font color="#000000">]<br />    ]<br /><br />  ]<br /></font><font color="#007f69">end</font>
</pre>
